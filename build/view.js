!function(){"use strict";let e=null,t=null,n=null,i=null;const o=new WeakMap;function s(){const t=document.querySelectorAll(".gatherpress-calendar");t.length&&("IntersectionObserver"in window?function(e){i=new IntersectionObserver(function(e){e.forEach(function(e){const t=e.target,i=o.get(t),s=e.isIntersecting;o.set(t,s),s&&!i?r(t):!s&&i&&n===t&&d()})},{threshold:.1,rootMargin:"50px"}),e.forEach(function(e){o.set(e,!1),i.observe(e)})}(t):t.forEach(function(e){o.set(e,!0),r(e)}),document.addEventListener("keydown",function(t){"Escape"===t.key&&e&&d()}))}function r(e){e.querySelectorAll(".gatherpress-calendar__event").forEach(function(t){t.hasAttribute("data-setup")||(t.setAttribute("data-setup","true"),t.setAttribute("role","button"),t.setAttribute("tabindex","0"),t.addEventListener("click",function(n){o.get(e)&&(n.preventDefault(),n.stopPropagation(),a(t,e))}),t.addEventListener("keydown",function(n){o.get(e)&&("Enter"!==n.key&&" "!==n.key||(n.preventDefault(),a(t,e)))}))})}function a(i,s){e&&d();const r=i.innerHTML,a=i.getAttribute("data-popover-style")||"",l=document.createElement("div");l.className="gatherpress-calendar__backdrop",l.addEventListener("click",d),document.body.appendChild(l);const u=document.createElement("div");u.className="gatherpress-calendar__popover",u.setAttribute("role","dialog"),u.setAttribute("aria-modal","true"),a&&u.setAttribute("style",a);const p=document.createElement("button");p.className="gatherpress-calendar__popover-close",p.innerHTML="&times;",p.setAttribute("aria-label","Close"),p.addEventListener("click",d),u.innerHTML=r,u.appendChild(p),document.body.appendChild(u),c(u,i),setTimeout(function(){l.classList.add("is-active"),u.classList.add("is-active")},10),e=u,t=l,n=s,u.focus();const v=function(){e&&o.get(s)&&c(u,i)};window.addEventListener("scroll",v,{passive:!0}),window.addEventListener("resize",v,{passive:!0}),u._cleanup=function(){window.removeEventListener("scroll",v),window.removeEventListener("resize",v)}}function c(e,t){const n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=window.innerWidth,s=window.innerHeight,r=10;let a=n.bottom+r,c=n.left+n.width/2-i.width/2;c<r&&(c=r),c+i.width>o-r&&(c=o-i.width-r),a+i.height>s-r&&(a=n.top-i.height-r),a<r&&(a=r),e.style.top=a+"px",e.style.left=c+"px"}function d(){e&&(e._cleanup&&e._cleanup(),e.classList.remove("is-active"),t&&t.classList.remove("is-active"),setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e),t&&t.parentNode&&t.parentNode.removeChild(t),e=null,t=null,n=null},200))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s()}();