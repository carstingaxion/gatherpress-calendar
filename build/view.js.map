{"version":3,"file":"view.js","mappings":"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","sources":["webpack://gatherpress-calendar/./src/view/constants.js","webpack://gatherpress-calendar/./src/view/handlers.js","webpack://gatherpress-calendar/./src/view/observer.js","webpack://gatherpress-calendar/./src/view/popover.js","webpack://gatherpress-calendar/./src/view/positioning.js","webpack://gatherpress-calendar/./src/view/state.js","webpack://gatherpress-calendar/webpack/bootstrap","webpack://gatherpress-calendar/webpack/runtime/define property getters","webpack://gatherpress-calendar/webpack/runtime/hasOwnProperty shorthand","webpack://gatherpress-calendar/webpack/runtime/make namespace object","webpack://gatherpress-calendar/./src/view.js"],"sourcesContent":["/**\n * Popover positioning configuration.\n *\n * @type {Object}\n * @property {number} gap    - Gap between event dot and popover in pixels.\n * @property {number} margin - Minimum margin from viewport edges in pixels.\n */\nexport const POPOVER_CONFIG = {\n\tgap: 10,\n\tmargin: 10,\n};\n\n/**\n * IntersectionObserver configuration.\n *\n * @type {Object}\n * @property {number} threshold  - Percentage of element that must be visible (0.1 = 10%).\n * @property {string} rootMargin - Margin around viewport for triggering observer.\n */\nexport const OBSERVER_CONFIG = {\n\tthreshold: 0.1,\n\trootMargin: '50px',\n};\n\n/**\n * Animation timing configuration.\n *\n * @type {Object}\n * @property {number} fadeDelay    - Delay before fade-in animation starts (ms).\n * @property {number} fadeDuration - Duration of fade animation (ms).\n */\nexport const ANIMATION_CONFIG = {\n\tfadeDelay: 10,\n\tfadeDuration: 200,\n};\n\n/**\n * CSS class names used throughout the component.\n *\n * @type {Object}\n */\nexport const CLASS_NAMES = {\n\tcalendar: 'gatherpress-calendar',\n\tevent: 'gatherpress-calendar__event',\n\tpopover: 'gatherpress-calendar__popover',\n\tpopoverClose: 'gatherpress-calendar__popover-close',\n\tbackdrop: 'gatherpress-calendar__backdrop',\n\tisActive: 'is-active',\n};\n","import { CLASS_NAMES } from './constants';\nimport { state, isCalendarVisible } from './state';\nimport { showPopover, closePopover } from './popover';\n\n/**\n * Handle click on event dot.\n *\n * Prevents default link navigation and shows popover instead.\n * Only processes if calendar is visible (optimization).\n *\n * @since 0.1.0\n *\n * @param {Event}       event     - The click event.\n * @param {HTMLElement} eventLink - The event dot link element.\n * @param {HTMLElement} calendar  - The calendar container.\n *\n * @return {void}\n */\nexport function handleEventClick( event, eventLink, calendar ) {\n\t// Check if calendar is visible before processing.\n\tif ( ! isCalendarVisible( calendar ) ) {\n\t\treturn;\n\t}\n\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\tshowPopover( eventLink, calendar );\n}\n\n/**\n * Handle keyboard interaction on event dot.\n *\n * Enter and Space keys trigger the same action as click.\n * Only processes if calendar is visible.\n *\n * @since 0.1.0\n *\n * @param {KeyboardEvent} event     - The keyboard event.\n * @param {HTMLElement}   eventLink - The event dot link element.\n * @param {HTMLElement}   calendar  - The calendar container.\n *\n * @return {void}\n */\nexport function handleEventKeydown( event, eventLink, calendar ) {\n\t// Check if calendar is visible before processing.\n\tif ( ! isCalendarVisible( calendar ) ) {\n\t\treturn;\n\t}\n\n\tif ( event.key === 'Enter' || event.key === ' ' ) {\n\t\tevent.preventDefault();\n\t\tshowPopover( eventLink, calendar );\n\t}\n}\n\n/**\n * Handle Escape key to close popover.\n *\n * Global handler that closes any open popover when Escape is pressed.\n *\n * @since 0.1.0\n *\n * @param {KeyboardEvent} event - The keyboard event.\n *\n * @return {void}\n */\nexport function handleEscapeKey( event ) {\n\tif ( event.key === 'Escape' && state.popover ) {\n\t\tclosePopover();\n\t}\n}\n\n/**\n * Setup event handlers for a single calendar.\n *\n * Iterates through all event dots in the calendar and attaches:\n * - Click handler (prevents default navigation)\n * - Keyboard handler (Enter/Space keys)\n * - ARIA attributes for accessibility\n *\n * @since 0.1.0\n *\n * @param {HTMLElement} calendar - The calendar container element.\n *\n * @return {void}\n */\nexport function setupCalendar( calendar ) {\n\tconst events = calendar.querySelectorAll( '.' + CLASS_NAMES.event );\n\n\tevents.forEach( function ( eventLink ) {\n\t\t// Skip if already set up (prevents duplicate handlers).\n\t\tif ( eventLink.hasAttribute( 'data-setup' ) ) {\n\t\t\treturn;\n\t\t}\n\t\teventLink.setAttribute( 'data-setup', 'true' );\n\n\t\t// Add ARIA attributes for screen readers.\n\t\teventLink.setAttribute( 'role', 'button' );\n\t\teventLink.setAttribute( 'tabindex', '0' );\n\n\t\t// Attach event handlers.\n\t\teventLink.addEventListener( 'click', function ( e ) {\n\t\t\thandleEventClick( e, eventLink, calendar );\n\t\t} );\n\n\t\teventLink.addEventListener( 'keydown', function ( e ) {\n\t\t\thandleEventKeydown( e, eventLink, calendar );\n\t\t} );\n\t} );\n}\n","/* eslint-env browser */\nimport { OBSERVER_CONFIG } from './constants';\nimport { state, visibilityMap, setObserver, getObserver } from './state';\nimport { closePopover } from './popover';\nimport { setupCalendar } from './handlers';\n\n/**\n * Set up IntersectionObserver to track calendar visibility.\n *\n * The observer watches for calendars entering/leaving the viewport\n * and enables/disables event handlers accordingly. This provides:\n * - Better performance by reducing event handler overhead\n * - Lower battery consumption on mobile devices\n * - Automatic cleanup when calendars scroll off-screen\n *\n * @since 0.1.0\n *\n * @param {NodeList} calendars - List of calendar elements to observe.\n *\n * @return {void}\n */\nexport function setupIntersectionObserver( calendars ) {\n\tif ( ! ( 'IntersectionObserver' in window ) ) {\n\t\t// Fallback for browsers without IntersectionObserver support.\n\t\t// Set all calendars as visible and set them up immediately.\n\t\tcalendars.forEach( function ( calendar ) {\n\t\t\tvisibilityMap.set( calendar, true );\n\t\t\tsetupCalendar( calendar );\n\t\t} );\n\t\treturn;\n\t}\n\n\t/**\n\t * IntersectionObserver callback.\n\t *\n\t * Processes intersection changes and updates calendar state.\n\t *\n\t * @param {IntersectionObserverEntry[]} entries - Array of intersection changes.\n\t */\n\tsetObserver( new IntersectionObserver(\n\t\tfunction ( entries ) {\n\t\t\tentries.forEach( function ( entry ) {\n\t\t\t\tconst calendar = entry.target;\n\t\t\t\tconst wasVisible = visibilityMap.get( calendar );\n\t\t\t\tconst isVisible = entry.isIntersecting;\n\n\t\t\t\t// Update visibility state.\n\t\t\t\tvisibilityMap.set( calendar, isVisible );\n\n\t\t\t\tif ( isVisible && ! wasVisible ) {\n\t\t\t\t\t// Calendar entered viewport - set it up.\n\t\t\t\t\tsetupCalendar( calendar );\n\t\t\t\t} else if ( ! isVisible && wasVisible ) {\n\t\t\t\t\t// Calendar left viewport.\n\t\t\t\t\t// If this calendar has an active popover, close it.\n\t\t\t\t\tif ( state.calendar === calendar ) {\n\t\t\t\t\t\tclosePopover();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t},\n\t\t{\n\t\t\tthreshold: OBSERVER_CONFIG.threshold,\n\t\t\trootMargin: OBSERVER_CONFIG.rootMargin,\n\t\t}\n\t));\n\n\t// Start observing all calendars.\n\tcalendars.forEach( function ( calendar ) {\n\t\tconst observer = getObserver();\n\t\tvisibilityMap.set( calendar, false );\n\t\tobserver.observe( calendar );\n\t} );\n}\n\n/**\n * Stop observing all calendars and clean up observer.\n *\n * Called during component unmount or cleanup.\n *\n * @since 0.1.0\n *\n * @return {void}\n */\nexport function cleanupObserver() {\n\tconst observer = getObserver();\n\tif (observer) { \n\t\tobserver.disconnect(); \n\t\tsetObserver(null); \n\t}\n}","import { CLASS_NAMES, ANIMATION_CONFIG } from './constants';\nimport { state, resetState } from './state';\nimport { positionPopover, createPositionUpdater } from './positioning';\n\n/**\n * Create backdrop element.\n *\n * The backdrop is a semi-transparent overlay that:\n * - Dims the content behind the popover\n * - Closes the popover when clicked\n * - Provides visual focus on the popover\n *\n * @since 0.1.0\n *\n * @return {HTMLElement} The created backdrop element.\n */\nexport function createBackdrop() {\n\tconst backdrop = document.createElement( 'div' );\n\tbackdrop.className = CLASS_NAMES.backdrop;\n\tbackdrop.addEventListener( 'click', closePopover );\n\treturn backdrop;\n}\n\n/**\n * Create close button for popover.\n *\n * @since 0.1.0\n *\n * @return {HTMLElement} The created close button element.\n */\nexport function createCloseButton() {\n\tconst closeBtn = document.createElement( 'button' );\n\tcloseBtn.className = CLASS_NAMES.popoverClose;\n\tcloseBtn.innerHTML = '&times;';\n\tcloseBtn.setAttribute( 'aria-label', 'Close' );\n\tcloseBtn.addEventListener( 'click', closePopover );\n\treturn closeBtn;\n}\n\n/**\n * Create popover element with content.\n *\n * @since 0.1.0\n *\n * @param {string} content     - HTML content for the popover.\n * @param {string} customStyle - Custom inline styles.\n *\n * @return {HTMLElement} The created popover element.\n */\nexport function createPopover( content, customStyle ) {\n\tconst popover = document.createElement( 'div' );\n\tpopover.className = CLASS_NAMES.popover;\n\tpopover.setAttribute( 'role', 'dialog' );\n\tpopover.setAttribute( 'aria-modal', 'true' );\n\tpopover.setAttribute( 'tabindex', '-1' );\n\n\tif ( customStyle ) {\n\t\tpopover.setAttribute( 'style', customStyle );\n\t}\n\n\tpopover.innerHTML = content;\n\tpopover.appendChild( createCloseButton() );\n\n\treturn popover;\n}\n\n/**\n * Animate popover and backdrop into view.\n *\n * Uses CSS transitions for smooth fade-in effect.\n *\n * @since 0.1.0\n *\n * @param {HTMLElement} popover  - The popover element.\n * @param {HTMLElement} backdrop - The backdrop element.\n *\n * @return {void}\n */\nexport function animateIn( popover, backdrop ) {\n\t// Small delay allows browser to calculate dimensions before transitioning.\n\tsetTimeout( function () {\n\t\tbackdrop.classList.add( CLASS_NAMES.isActive );\n\t\tpopover.classList.add( CLASS_NAMES.isActive );\n\t}, ANIMATION_CONFIG.fadeDelay );\n}\n\n/**\n * Animate popover and backdrop out of view.\n *\n * @since 0.1.0\n *\n * @param {HTMLElement} popover  - The popover element.\n * @param {HTMLElement} backdrop - The backdrop element.\n * @param {Function}    callback - Function to call after animation completes.\n *\n * @return {void}\n */\nexport function animateOut( popover, backdrop, callback ) {\n\t// Start fade-out animation.\n\tpopover.classList.remove( CLASS_NAMES.isActive );\n\tif ( backdrop ) {\n\t\tbackdrop.classList.remove( CLASS_NAMES.isActive );\n\t}\n\n\t// Wait for animation to complete before cleanup.\n\tsetTimeout( callback, ANIMATION_CONFIG.fadeDuration );\n}\n\n/**\n * Show popover with event content.\n *\n * Creates and displays a popover overlay containing the event's inner blocks content.\n * The popover is positioned near the clicked event dot and includes:\n * - Post content from inner blocks (title, date, excerpt, etc.)\n * - Close button (Ã—)\n * - Custom styling from templateConfigStyle attribute\n *\n * @since 0.1.0\n *\n * @param {HTMLAnchorElement} eventLink - The event dot link element that was clicked.\n * @param {HTMLElement}       calendar  - The calendar container element.\n *\n * @return {void}\n */\nexport function showPopover( eventLink, calendar ) {\n\t// Close any existing popover first.\n\tif ( state.popover ) {\n\t\tclosePopover();\n\t}\n\n\t// Extract content and custom styling.\n\tconst content = eventLink.innerHTML;\n\tconst customStyle = eventLink.getAttribute( 'data-popover-style' ) || '';\n\n\t// Create and append elements.\n\tconst backdrop = createBackdrop();\n\tconst popover = createPopover( content, customStyle );\n\n\tdocument.body.appendChild( backdrop );\n\tdocument.body.appendChild( popover );\n\n\t// Position popover near the event dot.\n\tpositionPopover( popover, eventLink );\n\n\t// Animate in.\n\tanimateIn( popover, backdrop );\n\n\t// Update state.\n\tstate.popover = popover;\n\tstate.backdrop = backdrop;\n\tstate.calendar = calendar;\n\n\t// Move focus to popover for keyboard navigation.\n\tpopover.focus();\n\n\t// Setup position update handler.\n\tconst updatePos = createPositionUpdater( popover, eventLink, calendar );\n\n\t// Update position on scroll and resize.\n\twindow.addEventListener( 'scroll', updatePos, { passive: true } );\n\twindow.addEventListener( 'resize', updatePos, { passive: true } );\n\n\t// Store cleanup function.\n\tstate.cleanup = function () {\n\t\twindow.removeEventListener( 'scroll', updatePos );\n\t\twindow.removeEventListener( 'resize', updatePos );\n\t};\n}\n\n/**\n * Close the active popover.\n *\n * Removes the popover and backdrop from the DOM with fade-out animation.\n * Cleans up event listeners to prevent memory leaks.\n *\n * @since 0.1.0\n *\n * @return {void}\n */\nexport function closePopover() {\n\tif ( ! state.popover ) {\n\t\treturn;\n\t}\n\n\t// Clean up event listeners.\n\tif ( state.cleanup ) {\n\t\tstate.cleanup();\n\t}\n\n\tconst popover = state.popover;\n\tconst backdrop = state.backdrop;\n\n\t// Animate out and clean up.\n\tanimateOut( popover, backdrop, function () {\n\t\tif ( popover && popover.parentNode ) {\n\t\t\tpopover.parentNode.removeChild( popover );\n\t\t}\n\t\tif ( backdrop && backdrop.parentNode ) {\n\t\t\tbackdrop.parentNode.removeChild( backdrop );\n\t\t}\n\t\tresetState();\n\t} );\n}\n","import { POPOVER_CONFIG } from './constants';\nimport { state, isCalendarVisible } from './state';\n\n/**\n * Calculate optimal popover position.\n *\n * Determines the best position for the popover based on:\n * - Event dot location\n * - Viewport dimensions\n * - Popover dimensions\n *\n * Positioning logic:\n * 1. Center horizontally on the dot\n * 2. Place below dot with gap (default)\n * 3. If no space below, place above dot\n * 4. Constrain to viewport with margins\n *\n * @since 0.1.0\n *\n * @param {HTMLElement} popover   - The popover element to position.\n * @param {HTMLElement} eventLink - The event dot link element.\n *\n * @return {void}\n */\nexport function positionPopover( popover, eventLink ) {\n\tconst linkRect = eventLink.getBoundingClientRect();\n\tconst popRect = popover.getBoundingClientRect();\n\tconst vw = window.innerWidth;\n\tconst vh = window.innerHeight;\n\tconst gap = POPOVER_CONFIG.gap;\n\tconst margin = POPOVER_CONFIG.margin;\n\n\t// Start with popover below the dot.\n\tlet top = linkRect.bottom + gap;\n\t// Center horizontally on the dot.\n\tlet left = linkRect.left + linkRect.width / 2 - popRect.width / 2;\n\n\t// Keep in viewport horizontally.\n\tif ( left < margin ) {\n\t\tleft = margin;\n\t}\n\tif ( left + popRect.width > vw - margin ) {\n\t\tleft = vw - popRect.width - margin;\n\t}\n\n\t// Keep in viewport vertically.\n\t// If popover would extend below viewport, show it above the dot instead.\n\tif ( top + popRect.height > vh - margin ) {\n\t\ttop = linkRect.top - popRect.height - gap;\n\t}\n\t// If still not enough space, clamp to viewport top.\n\tif ( top < margin ) {\n\t\ttop = margin;\n\t}\n\n\t// Apply calculated position.\n\tpopover.style.top = top + 'px';\n\tpopover.style.left = left + 'px';\n}\n\n/**\n * Create position update handler with visibility check.\n *\n * Returns a function that updates popover position only when\n * the calendar is visible in the viewport.\n *\n * @since 0.1.0\n *\n * @param {HTMLElement} popover   - The popover element.\n * @param {HTMLElement} eventLink - The event dot link element.\n * @param {HTMLElement} calendar  - The calendar container.\n *\n * @return {Function} Position update function.\n */\nexport function createPositionUpdater( popover, eventLink, calendar ) {\n\treturn function () {\n\t\tif ( state.popover && isCalendarVisible( calendar ) ) {\n\t\t\tpositionPopover( popover, eventLink );\n\t\t}\n\t};\n}\n","/**\n * State object to manage active popover and related elements.\n *\n * Centralized state prevents multiple popovers from being open\n * simultaneously and provides easy cleanup.\n *\n * @type {Object}\n * @property {HTMLElement|null} popover  - Currently active popover element.\n * @property {HTMLElement|null} backdrop - Currently active backdrop element.\n * @property {HTMLElement|null} calendar - Calendar that owns the active popover.\n * @property {Function|null}    cleanup  - Cleanup function for event listeners.\n */\nexport const state = {\n\tpopover: null,\n\tbackdrop: null,\n\tcalendar: null,\n\tcleanup: null,\n};\n\n/**\n * Map of calendars to their visibility state.\n *\n * Uses WeakMap for automatic garbage collection when calendar\n * elements are removed from the DOM.\n *\n * @type {WeakMap<HTMLElement, boolean>}\n */\nexport let visibilityMap = new WeakMap();\n\n/**\n * IntersectionObserver instance for monitoring calendar visibility.\n *\n * @type {IntersectionObserver|null}\n */\nlet observerInstance = null;\n\n/**\n* Set the observer instance.\n* @param {IntersectionObserver|null} instance - The observer instance.\n*/\nexport function setObserver(instance) {\n\tobserverInstance = instance;\n}\n\n/**\n* Get the observer instance.\n* @return {IntersectionObserver|null} \n*/\nexport function getObserver() { \n\treturn observerInstance; \n}\n\n/**\n * Reset state to initial values.\n *\n * Called after popover is closed to ensure clean state.\n *\n * @since 0.1.0\n *\n * @return {void}\n */\nexport function resetState() {\n\tstate.popover = null;\n\tstate.backdrop = null;\n\tstate.calendar = null;\n\tstate.cleanup = null;\n}\n\n/**\n * Check if a calendar is currently visible in the viewport.\n *\n * @since 0.1.0\n *\n * @param {HTMLElement} calendar - The calendar element to check.\n *\n * @return {boolean} True if calendar is visible, false otherwise.\n */\nexport function isCalendarVisible( calendar ) {\n\treturn visibilityMap.get( calendar ) === true;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * GatherPress Calendar Block Frontend Script\n *\n * Progressive enhancement for the GatherPress Calendar block.\n * This script adds interactive popover functionality to event dots,\n * but the calendar remains fully functional without JavaScript.\n *\n * @package\n * @since 0.1.0\n */\n\nimport { CLASS_NAMES } from './view/constants';\nimport { setupIntersectionObserver, cleanupObserver } from './view/observer';\nimport { closePopover } from './view/popover';\nimport { handleEscapeKey } from './view/handlers';\n\n( function () {\n\t'use strict';\n\n\t/**\n\t * Initialize popover functionality for all calendars on the page.\n\t *\n\t * Sets up:\n\t * - IntersectionObserver for visibility tracking\n\t * - Event handlers for visible calendars only\n\t * - Global keyboard handlers (Escape)\n\t *\n\t * @since 0.1.0\n\t *\n\t * @return {void}\n\t */\n\tfunction init() {\n\t\tconst calendars = document.querySelectorAll(\n\t\t\t'.' + CLASS_NAMES.calendar\n\t\t);\n\n\t\tif ( ! calendars.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Set up IntersectionObserver to track calendar visibility.\n\t\tsetupIntersectionObserver( calendars );\n\n\t\t// Global escape key handler to close any open popover.\n\t\tdocument.addEventListener( 'keydown', handleEscapeKey );\n\t}\n\n\t/**\n\t * Handle DOM ready state.\n\t *\n\t * Ensures initialization happens after DOM is fully loaded.\n\t *\n\t * @since 0.1.0\n\t *\n\t * @return {void}\n\t */\n\tif ( document.readyState === 'loading' ) {\n\t\tdocument.addEventListener( 'DOMContentLoaded', init );\n\t} else {\n\t\tinit();\n\t}\n\n\t/**\n\t * Cleanup on page unload.\n\t *\n\t * Ensures proper cleanup of observers and event listeners\n\t * to prevent memory leaks.\n\t *\n\t * @since 0.1.0\n\t *\n\t * @return {void}\n\t */\n\twindow.addEventListener( 'beforeunload', function () {\n\t\tclosePopover();\n\t\tcleanupObserver();\n\t} );\n} )();\n"],"names":["POPOVER_CONFIG","gap","margin","OBSERVER_CONFIG","threshold","rootMargin","ANIMATION_CONFIG","fadeDelay","fadeDuration","CLASS_NAMES","calendar","event","popover","popoverClose","backdrop","isActive","state","isCalendarVisible","showPopover","closePopover","handleEventClick","eventLink","preventDefault","stopPropagation","handleEventKeydown","key","handleEscapeKey","setupCalendar","events","querySelectorAll","forEach","hasAttribute","setAttribute","addEventListener","e","visibilityMap","setObserver","getObserver","setupIntersectionObserver","calendars","window","set","IntersectionObserver","entries","entry","target","wasVisible","get","isVisible","isIntersecting","observer","observe","cleanupObserver","disconnect","resetState","positionPopover","createPositionUpdater","createBackdrop","document","createElement","className","createCloseButton","closeBtn","innerHTML","createPopover","content","customStyle","appendChild","animateIn","setTimeout","classList","add","animateOut","callback","remove","getAttribute","body","focus","updatePos","passive","cleanup","removeEventListener","parentNode","removeChild","linkRect","getBoundingClientRect","popRect","vw","innerWidth","vh","innerHeight","top","bottom","left","width","height","style","WeakMap","observerInstance","instance","init","length","readyState"],"ignoreList":[],"sourceRoot":""}